<!DOCTYPE html>
<html lang="en">
<head>
<title>Scintillation Monitor</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="js/jquery-3.2.1.min.js"></script>
<script src="highcharts/7.0/highcharts.js"></script>
<script src="highcharts/7.0/data.js"></script>
</head>

<body>
<h2>Scintillation Monitor</h2>
<div id="scintillation" style="height: 400px"></div>

<script>
$(document).ready(function() {
	GetScint();
	setInterval("GetScint()",900000);
});

Highcharts.theme = {
    colors: ['#b0b0b0', '#f03010', '#ED561B', '#DDDF00', '#24CBE5', '#64E572','#FF9655', '#FFF263', '#6AF9C4']
			 }


function GetScint(){
		Highcharts.setOptions(Highcharts.theme);
        Highcharts.chart('scintillation', {
            chart: {
                type: 'scatter',
				zoomType:'xy',
            },
            title: {
                text: 'S4 Ionospheric Scintillation Index'
            },
			plotOptions: {
				scatter: {
				  marker: {
					radius: 3,
					states: {
					  hover: {
						enabled: true,
						//lineColor: 'rgb(100,100,100)'
					  }
					}
				  }
				}

			},
			//series:[{color: 'rgba(50, 10, 255, .5)'}],
			series:[{color: 'rgba(0, 0, 120, .5)'}],
			data: {
				//csv: csv,
				csvURL: window.location.origin + '/s4.csv',
				enablePolling: true,
				dataRefreshRate: 2
			},
            xAxis: {
				crosshair: 
					{
						color: 'red',
						width: 1
					},
            },
            yAxis: {
                title: {
                    text: 'S4 index'
					
                },
				max: 4
            },
			legend:
			{
				enabled: false
			},
			tooltip:
			{
				enabled: false,
				pointFormat: ''
			}
        });
}

</script>

</body>
</html>